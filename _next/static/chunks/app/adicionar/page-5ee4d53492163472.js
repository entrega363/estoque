(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{2800:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5155),a=s(2115),o=s(6874),n=s.n(o),l=s(8999);function i(){let e=(0,l.useRouter)(),[t,s]=(0,a.useState)({codigo:"",nome:"",quantidade:1,categoria:"Informatica"}),[o,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),x=async s=>{s.preventDefault(),i(!0);try{let s={id:Date.now().toString(),codigo:t.codigo,nome:t.nome,quantidade:t.quantidade,categoria:t.categoria,foto:t.foto},r=JSON.parse(localStorage.getItem("estoque-equipamentos")||"[]");if(r.some(e=>e.codigo===t.codigo)){alert("J\xe1 existe um equipamento com este c\xf3digo!"),i(!1);return}let a=[...r,s];localStorage.setItem("estoque-equipamentos",JSON.stringify(a)),await new Promise(e=>setTimeout(e,1e3)),c(!0),setTimeout(()=>{e.push("/")},2e3)}catch(e){console.error("Erro ao salvar equipamento:",e),alert("Erro ao salvar equipamento. Tente novamente."),i(!1)}},g=e=>{let{name:t,value:r}=e.target;s(e=>({...e,[t]:"quantidade"===t?parseInt(r)||1:r}))},h=e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return void alert("Por favor, selecione apenas arquivos de imagem.");if(r.size>5242880)return void alert("A imagem deve ter no m\xe1ximo 5MB.");let e=new FileReader;e.onload=e=>{var t;let r=null==(t=e.target)?void 0:t.result;u(r),s(e=>({...e,foto:r}))},e.readAsDataURL(r)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,r.jsx)(n(),{href:"/",className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors !rounded-button",children:(0,r.jsx)("i",{className:"ri-arrow-left-line text-gray-600 text-xl"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Adicionar Equipamento"})]}),d&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-green-100 border border-green-200 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("i",{className:"ri-check-circle-fill text-green-500 text-xl"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-green-800",children:"Sucesso!"}),(0,r.jsx)("p",{className:"text-sm text-green-600",children:"Equipamento adicionado ao estoque"})]})]})}),(0,r.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"C\xf3digo do Item"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",name:"codigo",value:t.codigo,onChange:g,placeholder:"Ex: ATT-X200304",className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>{let e=Date.now().toString().slice(-6);s(t=>({...t,codigo:"".concat("ATT-X").concat(e)}))},className:"px-4 py-3 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200 transition-colors !rounded-button",title:"Gerar c\xf3digo autom\xe1tico",children:(0,r.jsx)("i",{className:"ri-refresh-line"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Equipamento"}),(0,r.jsx)("input",{type:"text",name:"nome",value:t.nome,onChange:g,placeholder:"Ex: Notebook Dell Inspiron",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>s(e=>({...e,quantidade:Math.max(1,e.quantidade-1)})),className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors !rounded-button",children:(0,r.jsx)("i",{className:"ri-subtract-line text-gray-600"})}),(0,r.jsx)("input",{type:"number",name:"quantidade",value:t.quantidade,onChange:g,min:"1",className:"flex-1 text-center px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>s(e=>({...e,quantidade:e.quantidade+1})),className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors !rounded-button",children:(0,r.jsx)("i",{className:"ri-add-line text-gray-600"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("select",{name:"categoria",value:t.categoria,onChange:g,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent appearance-none bg-white",required:!0,children:["Informatica","Perifericos","Impressao","Mobiliario","Eletronicos","Outros"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,r.jsx)("i",{className:"ri-arrow-down-s-line text-gray-400"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto do Equipamento (Opcional)"}),m?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-full h-32 bg-gray-100 rounded-xl overflow-hidden",children:(0,r.jsx)("img",{src:m,alt:"Preview do equipamento",className:"w-full h-full object-cover"})}),(0,r.jsx)("button",{type:"button",onClick:()=>{u(null),s(e=>({...e,foto:void 0}))},className:"absolute top-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors !rounded-button",title:"Remover foto",children:(0,r.jsx)("i",{className:"ri-close-line text-sm"})}),(0,r.jsx)("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("photo-upload-replace"))?void 0:e.click()},className:"absolute bottom-2 right-2 px-3 py-1 bg-white bg-opacity-90 text-gray-700 text-xs rounded-full hover:bg-opacity-100 transition-colors !rounded-button",children:"Alterar"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:h,className:"hidden",id:"photo-upload-replace"})]}):(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:h,className:"hidden",id:"photo-upload"}),(0,r.jsxs)("label",{htmlFor:"photo-upload",className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-green-400 hover:bg-green-50 transition-colors",children:[(0,r.jsx)("i",{className:"ri-camera-line text-3xl text-gray-400 mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Clique para adicionar foto"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG at\xe9 5MB"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Pr\xe9-visualiza\xe7\xe3o:"}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[m&&(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)("div",{className:"w-full h-24 bg-gray-100 rounded-lg overflow-hidden",children:(0,r.jsx)("img",{src:m,alt:"Preview do equipamento",className:"w-full h-full object-cover"})})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:m?(0,r.jsx)("img",{src:m,alt:"\xcdcone do equipamento",className:"w-full h-full object-cover rounded-xl"}):(0,r.jsx)("i",{className:"ri-computer-line text-green-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-800",children:t.nome||"Nome do equipamento"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:t.codigo||"C\xf3digo do item"})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-xl font-bold text-green-500",children:t.quantidade}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"unidades"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-600 text-xs rounded-full",children:t.categoria}),(0,r.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-600 text-xs rounded-full font-medium",children:"Dispon\xedvel"})]})]})]}),(0,r.jsx)("button",{type:"submit",disabled:o||d,className:"w-full bg-green-500 text-white py-4 rounded-2xl font-medium shadow-lg hover:bg-green-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed !rounded-button flex items-center justify-center gap-2",children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Adicionando..."]}):d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("i",{className:"ri-check-line text-xl"}),"Adicionado com Sucesso!"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("i",{className:"ri-add-line text-xl"}),"Adicionar ao Estoque"]})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"A\xe7\xf5es R\xe1pidas"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("button",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl text-sm font-medium hover:bg-blue-100 transition-colors !rounded-button",children:[(0,r.jsx)("i",{className:"ri-scan-line text-lg mb-1 block"}),"Escanear QR"]}),(0,r.jsxs)("button",{className:"p-3 bg-purple-50 text-purple-600 rounded-xl text-sm font-medium hover:bg-purple-100 transition-colors !rounded-button",children:[(0,r.jsx)("i",{className:"ri-file-excel-line text-lg mb-1 block"}),"Importar Excel"]})]})]})]})})}},9431:(e,t,s)=>{Promise.resolve().then(s.bind(s,2800))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(9431)),_N_E=e.O()}]);